[gd_scene load_steps=7 format=3 uid="uid://ywgaelhpgpby"]

[ext_resource type="Script" path="res://GameManagement/game.gd" id="1_bo2r8"]
[ext_resource type="Script" path="res://unit/groups.gd" id="1_n6ffw"]
[ext_resource type="Script" path="res://ui/camera.gd" id="2_fdhqp"]
[ext_resource type="PackedScene" uid="uid://bffwtwiaeqg1" path="res://ui/ui.tscn" id="4_twutv"]

[sub_resource type="GDScript" id="GDScript_3igke"]
script/source = "extends Node


func _ready():
	await get_tree().process_frame
	print(\"Group count: %d\" % get_parent().get_node(\"World/Groups\").get_child_count())
	await get_tree().process_frame
	var allUnits = get_tree().get_nodes_in_group(&\"unit\")
	print(\"Unit count: %d\" % allUnits.size())


"

[sub_resource type="NavigationPolygon" id="NavigationPolygon_n13jf"]
vertices = PackedVector2Array(1338, -3210, 2427, -2545, 3229, -1321, 3549, -27, 3275, 1343, 2496, 2466, 1372, 3234, -10, 3508, -1382, 3222, -2553, 2510, -3284, 1379, -3558, -4, -3238, -1286, -2539, -2454, -1418, -3199, 11, -3519)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-2562, -2476, -3266, -1299, -3589, -6, -3312, 1391, -2574, 2534, -1396, 3250, -11, 3539, 1386, 3262, 2518, 2488, 3303, 1357, 3580, -29, 3257, -1333, 2448, -2569, 1352, -3238, 12, -3550, -1431, -3227)])
source_geometry_group_name = &"navigation_polygon_source_group"
cell_size = 10.0
agent_radius = 30.0

[node name="Node2D" type="Node2D"]

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="UI" parent="CanvasLayer" instance=ExtResource("4_twutv")]

[node name="Test" type="Node" parent="."]
script = SubResource("GDScript_3igke")

[node name="RigidBody2D" parent="." instance_placeholder="res://unit/cat.tscn"]

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
navigation_polygon = SubResource("NavigationPolygon_n13jf")

[node name="Game" type="Node2D" parent="."]
script = ExtResource("1_bo2r8")

[node name="World" type="Node2D" parent="."]
y_sort_enabled = true

[node name="Groups" type="Node2D" parent="World"]
script = ExtResource("1_n6ffw")

[node name="Camera2D" type="Camera2D" parent="World"]
script = ExtResource("2_fdhqp")

[node name="Marker2D" type="Marker2D" parent="."]
position = Vector2(3528, 0)

[connection signal="player_changed" from="Game" to="World/Groups" method="_on_game_player_changed"]
