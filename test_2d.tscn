[gd_scene load_steps=8 format=3 uid="uid://ywgaelhpgpby"]

[ext_resource type="Script" path="res://GameManagement/game.gd" id="1_bo2r8"]
[ext_resource type="Script" path="res://unit/groups.gd" id="1_n6ffw"]
[ext_resource type="Script" path="res://Camera.gd" id="2_fdhqp"]
[ext_resource type="FontFile" uid="uid://b7bllu2giivqe" path="res://font/vinque rg.otf" id="4_yc54d"]

[sub_resource type="GDScript" id="GDScript_3igke"]
script/source = "extends Node


func _ready():
	await get_tree().process_frame
	print(\"Group count: %d\" % get_parent().get_node(\"Groups\").get_child_count())
	await get_tree().process_frame
	var allUnits = get_tree().get_nodes_in_group(&\"unit\")
	print(\"Unit count: %d\" % allUnits.size())


"

[sub_resource type="NavigationPolygon" id="NavigationPolygon_n13jf"]
vertices = PackedVector2Array(349, -210, 181, -160, -1075, -269, -1243, -352, -3003, -2380, 2438, -2374, 501, -88, 2468, 2443, 476, 133, -2957, 2382, 224, 138, 100, -4, -1130, 680, -1310, 371, -1386, 261, -1320, 73, -1235, -93, 225, -51, -1209, 370, -1503, -168, -1734, 123, -1684, 439, -1521, 544, -1398, 648, -1129, 511)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3, 4, 5), PackedInt32Array(6, 5, 7, 8), PackedInt32Array(8, 7, 9, 10), PackedInt32Array(11, 10, 9, 12), PackedInt32Array(13, 14, 15, 16, 2, 1, 17, 11, 18), PackedInt32Array(5, 6, 0), PackedInt32Array(4, 3, 19), PackedInt32Array(4, 19, 20), PackedInt32Array(9, 4, 20, 21), PackedInt32Array(9, 21, 22, 23), PackedInt32Array(24, 18, 11), PackedInt32Array(12, 24, 11), PackedInt32Array(9, 23, 12)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-3034, -2411, -2987, 2412, 2499, 2474, 2468, -2404)])
source_geometry_group_name = &"navigation_polygon_source_group"
cell_size = 10.0
agent_radius = 30.0

[sub_resource type="Theme" id="Theme_qqolg"]
Label/fonts/font = ExtResource("4_yc54d")
TitleLabel/base_type = &"Label"
TitleLabel/colors/font_color = Color(0.996847, 0.954729, 0.934884, 1)
TitleLabel/colors/font_outline_color = Color(0.460701, 0.260495, 0.147609, 1)
TitleLabel/colors/font_shadow_color = Color(0, 0, 0, 0.247059)
TitleLabel/constants/outline_size = 6
TitleLabel/constants/shadow_offset_x = 2
TitleLabel/constants/shadow_offset_y = 2
TitleLabel/constants/shadow_outline_size = 5
TitleLabel/font_sizes/font_size = 70

[node name="Node2D" type="Node2D"]

[node name="Test" type="Node" parent="."]
script = SubResource("GDScript_3igke")

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
position = Vector2(43, -106)
navigation_polygon = SubResource("NavigationPolygon_n13jf")

[node name="StaticBody2D" type="StaticBody2D" parent="NavigationRegion2D"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="NavigationRegion2D/StaticBody2D"]
polygon = PackedVector2Array(237, 108, 449, 104, 469, -75, 342, -177, 221, -141, 265, -35, 151, 9)

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="NavigationRegion2D/StaticBody2D"]
polygon = PackedVector2Array(-1240, -317, -1482, -146, -1702, 131, -1656, 421, -1502, 521, -1386, 619, -1160, 646, -1159, 519, -1226, 400, -1326, 402, -1420, 267, -1347, 59, -1262, -109, -1124, -260)

[node name="Game" type="Node" parent="."]
script = ExtResource("1_bo2r8")

[node name="Groups" type="Node2D" parent="."]
script = ExtResource("1_n6ffw")

[node name="Camera2D" type="Camera2D" parent="."]
script = ExtResource("2_fdhqp")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="UI" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme = SubResource("Theme_qqolg")

[node name="Label" type="Label" parent="CanvasLayer/UI"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 72.0
offset_top = 61.0
offset_right = -72.0
offset_bottom = -61.0
grow_horizontal = 2
grow_vertical = 2
theme_type_variation = &"TitleLabel"
text = "Next turn"
horizontal_alignment = 1
vertical_alignment = 1
